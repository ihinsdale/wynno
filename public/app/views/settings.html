<div class="row">
  <div class="col-md-8 col-md-offset-2 text-center">
    <h2>Your filters</h2>
  </div>
</div>
<div class="row" ng-repeat="filter in activeFilters">
  <div class="col-md-8 col-md-offset-2">
    <button class="" ng-click="disableFilter()">
      <span class="icomoon-cancel-circle"></span>
    </button>
    {{filter}}
  </div>
</div>

<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <div class="text-center">
      <button class="btn btn-default btn-lg addNewFilter" ng-click="newDraftFilter()">Add new filter</button>
    </div>
    <hr>
    <div collapse="builderIsCollapsed">
      <div class="well well-lg">
        <ol>
          <div class="row">
            <div class="col-md-12">
              <h3><li>Hear or Mute?</li></h3>
              <div class="btn-group">
                <button type="button" class="btn btn-default hear" ng-model="draftFilter.type" btn-radio="'hear'">Hear</button>
                <button type="button" class="btn btn-default mute" ng-model="draftFilter.type" btn-radio="'mute'">Mute</button>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <h3><li>Whose tweets?</li></h3>
              <div class="row listOfUsers">
                <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1">
                  <div class="" ng-repeat="user in draftFilter.users">
                    <button class="removeSetting" ng-click="draftFilterRemoveUser($index)">
                      <span class="icomoon-cancel-circle"></span>
                    </button>
                    <div class="conditionSideBorder" ng-show="draftFilter.users.length == 0">All users (default)</div>
                    <div class="user conditionSideBorder">@{{user}}</div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md- col-xs-12">
                  <div class="input-group">
                    <span class="input-group-addon">@</span>
                    <input class="form-control" id="prependedInput" type="text" placeholder="Enter a username" ng-model="draftFilter.usernameInput" ng-minlength="1">
                    <span class="input-group-btn">
                      <button class="btn btn-primary" ng-click="draftFilterAddUser(draftFilter.usernameInput)" value="Add">Add</button>
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-md-12">
              <h3><li>Containing what?</li></h3>
              <div class="" ng-repeat="condition in draftFilter.conditions">
                <div class="andCondition" ng-show="!$first">and</div>
                <div class="conditionSideBorder">
                  <div class="row">
                    <div class="col-md-11">
                      <div class="btn-group">
                        <button type="button" class="btn btn-default toggledPurple" ng-model="condition.type" btn-radio="'link'">a link to</button>
                        <button type="button" class="btn btn-default toggledPurple" ng-model="condition.type" btn-radio="'word'">the word or phrase</button>
                        <button type="button" class="btn btn-default toggledPurple" ng-model="condition.type" btn-radio="'hashtag'">the hashtag</button>
                        <button type="button" class="btn btn-default toggledPurple" ng-model="condition.type" btn-radio="'picture'">a picture</button>
                        <button type="button" class="btn btn-default toggledPurple" ng-model="condition.type" btn-radio="'quotation'">a quotation</button>
                      </div>
                    </div>
                    <div class="col-md-1">
                    </div>
                  </div>
                  <div class="row conditionInputPaddingTop">
                    <div ng-show="condition.type == 'link'">
                      <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1">
                        <input type="text" class="form-control" placeholder="Enter a domain: example.com" ng-model="condition.link">
                        <p>Value of condition.link is: {{condition.link}}</p>
                        <p ng-show="condition.hashtag.length == 0">(Defaults to any domain.)</p>
                      </div>
                    </div>
                    <div ng-show="condition.type == 'word'">
                      <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1">
                        <input type="text" class="form-control" placeholder="Enter a word or phrase" ng-model="condition.word">
                        <p>Value of condition.word is: {{condition.word}}</p>
                      </div>
                    </div>
                    <div ng-show="condition.type == 'hashtag'">
                      <div class="col-xs-11 col-xs-offset-1 col-md-11 col-md-offset-1">
                        <div class="input-group">
                          <span class="input-group-addon">#</span>
                          <input type="text" class="form-control" placeholder="Enter a hashtag" ng-model="condition.hashtag">
                          <p ng-show="condition.hashtag.length == 0">(Defaults to any hashtag.)</p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row addConditionRow">
            <div class="col-xs-12 col-md-12">
              <button type-"button" class="btn btn-primary btn-sm addCondition" ng-click="addAnotherCondition()">
                <span class="icomoon-plus plus"></span>Add another
              </button>
            </div>
          </div>


          <div class="row">
            <div class="col-md-12">
              <h3><li>More options</li></h3>
              <span>Filter applied to:</span>
              <div class="btn-group">
                <button type="button" class="btn btn-default toggledPurple" ng-model="draftFilter.scope" btn-radio="'all'">Tweets + Retweets</button>
                <button type="button" class="btn btn-default toggledPurple" ng-model="draftFilter.scope" btn-radio="'tweets'">Tweets only</button>
                <button type="button" class="btn btn-default toggledPurple" ng-model="draftFilter.scope" btn-radio="'retweets'">Retweets only</button>
              </div>
            </div>
          </div>
        </ol>
        <div class="row paddingTop40">
          <div class="col-md-12 text-center">
            <button type="button" class="btn btn-primary btn-lg btn-block saveFilter" ng-click="saveFilter(draftFilter)">Save filter</button>
          </div>
        </div>
      </div> 
    </div>
  </div>
</div>
